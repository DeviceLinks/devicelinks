{
  "openapi": "3.0.1",
  "info": {
    "title": "devicelinks",
    "description": "",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "common"
    }
  ],
  "paths": {
    "/api/common/search/field": {
      "get": {
        "summary": "查询检索字段",
        "deprecated": false,
        "description": "",
        "tags": [
          "common"
        ],
        "parameters": [
          {
            "name": "module",
            "in": "query",
            "description": "功能模块，取值：Device、User、Log、Notification、FunctionModule、Attribute、Product、Telemetry",
            "required": false,
            "example": "Product",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "请求令牌",
            "required": true,
            "example": "{{accessToken}}",
            "schema": {
              "type": "string",
              "default": "{{accessToken}}"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "field": {
                      "type": "string",
                      "description": "字段"
                    },
                    "fieldText": {
                      "type": "string",
                      "description": "字段中文描述"
                    },
                    "valueType": {
                      "description": "字段值类型",
                      "$ref": "#/components/schemas/SearchFieldValueType"
                    },
                    "componentType": {
                      "type": "string",
                      "description": "前端组件类型"
                    },
                    "optionDataSource": {
                      "type": "string",
                      "description": "下拉框选项数据源，STATIC：静态数据；API：接口查询数据"
                    },
                    "optionApiDataCode": {
                      "type": "null",
                      "description": "数据源为API时查询数据的编码"
                    },
                    "optionStaticData": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "描述"
                          },
                          "value": {
                            "type": "string",
                            "description": "取值"
                          }
                        },
                        "required": [
                          "label",
                          "value"
                        ]
                      },
                      "description": "数据源为STATIC时的静态数据"
                    },
                    "operators": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "description": {
                            "type": "string",
                            "description": "描述"
                          },
                          "value": {
                            "type": "string",
                            "description": "运算符取值"
                          }
                        },
                        "required": [
                          "description",
                          "value"
                        ]
                      },
                      "description": "支持的运算法"
                    }
                  },
                  "required": [
                    "field",
                    "fieldText",
                    "valueType",
                    "componentType",
                    "optionDataSource",
                    "optionApiDataCode",
                    "optionStaticData",
                    "operators"
                  ]
                },
                "examples": {
                  "1": {
                    "summary": "成功示例",
                    "value": {
                      "code": "SUCCESS",
                      "message": "success",
                      "data": [
                        {
                          "field": "id",
                          "fieldText": "ID",
                          "valueType": "STRING",
                          "componentType": "INPUT",
                          "optionDataSource": "STATIC",
                          "optionApiDataCode": null,
                          "optionStaticData": null,
                          "enumClass": null,
                          "operators": [
                            {
                              "description": "等于",
                              "value": "EqualTo"
                            },
                            {
                              "description": "不等于",
                              "value": "NotEqualTo"
                            },
                            {
                              "description": "包含",
                              "value": "In"
                            },
                            {
                              "description": "不包含",
                              "value": "NotIn"
                            }
                          ],
                          "required": false
                        },
                        {
                          "field": "name",
                          "fieldText": "产品名称",
                          "valueType": "STRING",
                          "componentType": "INPUT",
                          "optionDataSource": "STATIC",
                          "optionApiDataCode": null,
                          "optionStaticData": null,
                          "enumClass": null,
                          "operators": [
                            {
                              "description": "等于",
                              "value": "EqualTo"
                            },
                            {
                              "description": "不等于",
                              "value": "NotEqualTo"
                            },
                            {
                              "description": "模糊匹配",
                              "value": "Like"
                            },
                            {
                              "description": "不模糊匹配",
                              "value": "NotLike"
                            }
                          ],
                          "required": false
                        },
                        {
                          "field": "deviceType",
                          "fieldText": "设备类型",
                          "valueType": "ENUM",
                          "componentType": "SELECT",
                          "optionDataSource": "STATIC",
                          "optionApiDataCode": null,
                          "optionStaticData": [
                            {
                              "label": "直连设备",
                              "value": "Direct"
                            },
                            {
                              "label": "网关设备",
                              "value": "Gateway"
                            },
                            {
                              "label": "网关子设备",
                              "value": "GatewaySub"
                            }
                          ],
                          "enumClass": "cn.devicelinks.framework.common.DeviceType",
                          "operators": [
                            {
                              "description": "等于",
                              "value": "EqualTo"
                            },
                            {
                              "description": "不等于",
                              "value": "NotEqualTo"
                            },
                            {
                              "description": "包含",
                              "value": "In"
                            },
                            {
                              "description": "不包含",
                              "value": "NotIn"
                            }
                          ],
                          "required": false
                        },
                        {
                          "field": "networkingAway",
                          "fieldText": "联网方式",
                          "valueType": "ENUM",
                          "componentType": "SELECT",
                          "optionDataSource": "STATIC",
                          "optionApiDataCode": null,
                          "optionStaticData": [
                            {
                              "label": "Wi-Fi",
                              "value": "WiFi"
                            },
                            {
                              "label": "蜂窝网络（2G/3G/4G/5G）",
                              "value": "CellularNetwork"
                            },
                            {
                              "label": "以太网",
                              "value": "Ethernet"
                            }
                          ],
                          "enumClass": "cn.devicelinks.framework.common.DeviceNetworkingAway",
                          "operators": [
                            {
                              "description": "等于",
                              "value": "EqualTo"
                            },
                            {
                              "description": "不等于",
                              "value": "NotEqualTo"
                            },
                            {
                              "description": "包含",
                              "value": "In"
                            },
                            {
                              "description": "不包含",
                              "value": "NotIn"
                            }
                          ],
                          "required": false
                        },
                        {
                          "field": "accessGatewayProtocol",
                          "fieldText": "接入网关协议",
                          "valueType": "ENUM",
                          "componentType": "SELECT",
                          "optionDataSource": "STATIC",
                          "optionApiDataCode": null,
                          "optionStaticData": [
                            {
                              "label": "MQTT协议",
                              "value": "Mqtt"
                            },
                            {
                              "label": "Modbus协议",
                              "value": "Modbus"
                            },
                            {
                              "label": "Http协议",
                              "value": "Rest"
                            },
                            {
                              "label": "Socket协议",
                              "value": "Socket"
                            },
                            {
                              "label": "gRPC协议",
                              "value": "Grpc"
                            },
                            {
                              "label": "BLE协议",
                              "value": "Ble"
                            }
                          ],
                          "enumClass": "cn.devicelinks.framework.common.AccessGatewayProtocol",
                          "operators": [
                            {
                              "description": "等于",
                              "value": "EqualTo"
                            },
                            {
                              "description": "不等于",
                              "value": "NotEqualTo"
                            },
                            {
                              "description": "包含",
                              "value": "In"
                            },
                            {
                              "description": "不包含",
                              "value": "NotIn"
                            }
                          ],
                          "required": false
                        },
                        {
                          "field": "dataFormat",
                          "fieldText": "数据格式",
                          "valueType": "ENUM",
                          "componentType": "SELECT",
                          "optionDataSource": "STATIC",
                          "optionApiDataCode": null,
                          "optionStaticData": [
                            {
                              "label": "JSON",
                              "value": "Json"
                            },
                            {
                              "label": "字节",
                              "value": "Bytes"
                            },
                            {
                              "label": "十六进制",
                              "value": "Hex"
                            }
                          ],
                          "enumClass": "cn.devicelinks.framework.common.DataFormat",
                          "operators": [
                            {
                              "description": "等于",
                              "value": "EqualTo"
                            },
                            {
                              "description": "不等于",
                              "value": "NotEqualTo"
                            },
                            {
                              "description": "包含",
                              "value": "In"
                            },
                            {
                              "description": "不包含",
                              "value": "NotIn"
                            }
                          ],
                          "required": false
                        },
                        {
                          "field": "authenticationMethod",
                          "fieldText": "鉴权方式",
                          "valueType": "ENUM",
                          "componentType": "SELECT",
                          "optionDataSource": "STATIC",
                          "optionApiDataCode": null,
                          "optionStaticData": [
                            {
                              "label": "一型一密",
                              "value": "ProductCredential"
                            },
                            {
                              "label": "一机一密",
                              "value": "DeviceCredential"
                            },
                            {
                              "label": "AccessToken",
                              "value": "AccessToken"
                            },
                            {
                              "label": "MQTT Basic",
                              "value": "MqttBasic"
                            },
                            {
                              "label": "X.509",
                              "value": "X509"
                            }
                          ],
                          "enumClass": "cn.devicelinks.framework.common.DeviceAuthenticationMethod",
                          "operators": [
                            {
                              "description": "等于",
                              "value": "EqualTo"
                            },
                            {
                              "description": "不等于",
                              "value": "NotEqualTo"
                            },
                            {
                              "description": "包含",
                              "value": "In"
                            },
                            {
                              "description": "不包含",
                              "value": "NotIn"
                            }
                          ],
                          "required": false
                        },
                        {
                          "field": "dynamicRegistration",
                          "fieldText": "是否动态注册",
                          "valueType": "BOOLEAN",
                          "componentType": "SELECT",
                          "optionDataSource": "STATIC",
                          "optionApiDataCode": null,
                          "optionStaticData": [
                            {
                              "label": "是",
                              "value": true
                            },
                            {
                              "label": "否",
                              "value": false
                            }
                          ],
                          "enumClass": null,
                          "operators": [
                            {
                              "description": "等于",
                              "value": "EqualTo"
                            },
                            {
                              "description": "不等于",
                              "value": "NotEqualTo"
                            }
                          ],
                          "required": false
                        },
                        {
                          "field": "status",
                          "fieldText": "状态",
                          "valueType": "ENUM",
                          "componentType": "SELECT",
                          "optionDataSource": "STATIC",
                          "optionApiDataCode": null,
                          "optionStaticData": [
                            {
                              "label": "开发中",
                              "value": "Development"
                            },
                            {
                              "label": "已发布",
                              "value": "Published"
                            }
                          ],
                          "enumClass": "cn.devicelinks.framework.common.ProductStatus",
                          "operators": [
                            {
                              "description": "等于",
                              "value": "EqualTo"
                            },
                            {
                              "description": "不等于",
                              "value": "NotEqualTo"
                            },
                            {
                              "description": "包含",
                              "value": "In"
                            },
                            {
                              "description": "不包含",
                              "value": "NotIn"
                            }
                          ],
                          "required": false
                        }
                      ],
                      "additional": {}
                    }
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "EnumItem": {
        "type": "object",
        "properties": {
          "label": {
            "type": "string",
            "description": "枚举描述"
          },
          "value": {
            "type": "string",
            "description": "枚举值"
          },
          "showStyle": {
            "type": "string",
            "description": "回显样式"
          }
        },
        "required": [
          "label",
          "value",
          "showStyle"
        ]
      },
      "SearchFieldValueType": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/EnumItem"
        }
      }
    },
    "securitySchemes": {
      "bearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  },
  "servers": []
}
